# Redux

글로벌 상태관리 라이브러리

<img src="https://user-images.githubusercontent.com/70184893/143999258-a29b562e-9ccd-4c1f-8a51-ce0c2dd29b58.png" alt="Redux" style="zoom: 80%;" />

# Redux 용어정리

Redux를 사용하는 데 필요한 용어의 개념을 정리한다.

## 1. State (상태)

- 중요한 데이터는 변수말고 리액트 state로
- 보통 Store에 의해 관리된다.

## 2. Store (스토어)

- 스토어는 애플리케이션 상태 트리를 가지고 있는 객체이다

- Redux 앱에서는 단 하나의 스토어만 가지고 있어야한다.

## 3. Action (액션)

- 상태를 변화시키려는 것을 표현하는 객체
- 상태를 변화시키기 위해서는 액션을 생성해야 한다
- 액션은 스토어에 데이터를 넣는 유일한 방법이다
- type 필드를 꼭 가지고 있어야 한다
- 그 뒤에 사용자가 넣고 싶은 데이터를 자유롭게 넣을 수 있다

```react
{
    type: "counter/INCREASE", // 필수
    value : 1
}
```

## 4. Action Creators (액션 생성자)

- 액션 생성자는 액션을 만드는 함수이다.
- 단지 액션을 만들기만 할뿐, 스토어에 실제 요청을 보내지는 않는다

```react
const increase = value => ({
    type : "counter/INCREASE",
    value
});
```

## 5. Dispatch (디스패치 함수)

- Dispatch 함수는 액션을 인자값으로 받는 함수이다.
- 그런 다음, 인자값으로 받은 액션을 스토어에 보내 상태 관리를 요청한다.
- 스토어에서 요청을 받으면, 해당 액션을 처리하는 로직을 실행시킨다.
- 아래와 같이 액션 생성자를 넣어 INCREASE 액션을 발생시킴으로써 상태 관리를 요청한다.

```react
store.dispatch(increase(10))
```

## 6. Reducer (리듀서) 💡

- 실제 상태 변화가 발생하는 함수.
- Dispatch를 통한 요청을 받으면 실행된다.
- 해당 액션 객체의 type값에 따라 특정 함수를 실행시키고, 새로운 상태를 만들어 반환한다.

# Redux의 3가지 원칙 ✨

1. 애플리케이션의 모든 상태는 하나의 스토어 안에 하나의 객체 트리 구조로 저장된다.
2. **상태를 변화시키는 유일한 방법은, 액션 객체를 전달하는 방법 뿐이다.**
3. 액션에 의해 상태 트리가 어떻게 변화하는지 지정하기 위해 순수한 리듀서를 작성해야 한다.

## 주의점 

- 리듀서는 상태를 변경해주고, 이전 상태는 건들지 않고 새로운 상태를 만들어 반환한다.

- 똑같은 파라미터를 받아 실행된 리듀서는 언제나 똑같은 결과값을 반환해야 한다.

- 즉, 리듀서 함수 내부에서 네트워크 및 데이터 베이스 접근, Math와 Date값은 **순수하지 않은 API를 호출하는 코드는, 리듀서 바깥에서 처리**해줘야 하며, 이를 위해 보통 미들웨어를 사용한다.